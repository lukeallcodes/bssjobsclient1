import './polyfills.server.mjs';
import{a as Z,b as $t,c as zt,d as Qt,e as Yt,f as Zt,i as Xt,m as Kt,o as ei,p as ti}from"./chunk-APNVO6MN.mjs";import{$ as u,$a as O,Aa as I,Cb as R,Da as g,Db as P,Ea as je,Eb as Ht,Fa as h,Fb as F,Ga as Ve,H as we,Ha as Rt,I as ue,Ia as a,J as N,Ja as s,K as J,Ka as M,L as me,La as rt,Ma as ot,N as oe,Na as S,Oa as f,P as z,Pa as d,Q as nt,Qa as E,Ra as se,Sa as l,T as D,Ta as w,U as pe,Ua as x,V as T,Va as U,W as It,Wa as st,Xa as b,Ya as C,Za as y,_ as Q,_a as j,aa as m,ab as Lt,ba as Y,bb as Ut,ea as he,f as $,fb as Wt,ga as G,i as Dt,kb as Bt,la as At,n as Ot,nb as at,ra as c,s as Ft,sa as _,sb as lt,ta as Jt,tb as Gt,ua as Pt,ub as ct,va as kt,wa as Me,xa as Nt,xb as qt,ya as jt}from"./chunk-B4D5BIBP.mjs";import{a as V,b as L}from"./chunk-NDYDZJSS.mjs";var ii=(()=>{let t=class t{constructor(){this.title="client"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=D({type:t,selectors:[["app-root"]],standalone:!0,features:[O],decls:1,vars:0,template:function(i,o){i&1&&M(0,"router-outlet")},dependencies:[Kt],encapsulation:2});let r=t;return r})();var pi=(()=>{let t=class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};t.\u0275fac=function(i){return new(i||t)(_(Me),_(he))},t.\u0275dir=T({type:t});let r=t;return r})(),$e=(()=>{let t=class t extends pi{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Y(t)))(o||t)}})(),t.\u0275dir=T({type:t,features:[I]});let r=t;return r})(),be=new oe("");var zi={provide:be,useExisting:N(()=>W),multi:!0};function Qi(){let r=ct()?ct().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Yi=new oe(""),W=(()=>{let t=class t extends pi{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Qi())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};t.\u0275fac=function(i){return new(i||t)(_(Me),_(he),_(Yi,8))},t.\u0275dir=T({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&f("input",function(v){return o._handleInput(v.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(v){return o._compositionEnd(v.target.value)})},features:[j([zi]),I]});let r=t;return r})();function Ae(r){return r==null||(typeof r=="string"||Array.isArray(r))&&r.length===0}var le=new oe(""),ze=new oe("");function Zi(r){return t=>{if(Ae(t.value)||Ae(r))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<r?{min:{min:r,actual:t.value}}:null}}function Xi(r){return t=>{if(Ae(t.value)||Ae(r))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>r?{max:{max:r,actual:t.value}}:null}}function Ki(r){return Ae(r.value)?{required:!0}:null}function ni(r){return null}function hi(r){return r!=null}function fi(r){return Wt(r)?Dt(r):r}function gi(r){let t={};return r.forEach(n=>{t=n!=null?V(V({},t),n):t}),Object.keys(t).length===0?null:t}function _i(r,t){return t.map(n=>n(r))}function en(r){return!r.validate}function vi(r){return r.map(t=>en(t)?t:n=>t.validate(n))}function tn(r){if(!r)return null;let t=r.filter(hi);return t.length==0?null:function(n){return gi(_i(n,t))}}function ft(r){return r!=null?tn(vi(r)):null}function nn(r){if(!r)return null;let t=r.filter(hi);return t.length==0?null:function(n){let e=_i(n,t).map(fi);return Ft(e).pipe(Ot(gi))}}function gt(r){return r!=null?nn(vi(r)):null}function ri(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function bi(r){return r._rawValidators}function Ci(r){return r._rawAsyncValidators}function dt(r){return r?Array.isArray(r)?r:[r]:[]}function Le(r,t){return Array.isArray(r)?r.includes(t):r===t}function oi(r,t){let n=dt(t);return dt(r).forEach(i=>{Le(n,i)||n.push(i)}),n}function si(r,t){return dt(t).filter(n=>!Le(r,n))}var Ue=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ft(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},q=class extends Ue{get formDirective(){return null}get path(){return null}},ae=class extends Ue{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},We=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mo=L(V({},rn),{"[class.ng-submitted]":"isSubmitted"}),K=(()=>{let t=class t extends We{constructor(e){super(e)}};t.\u0275fac=function(i){return new(i||t)(_(ae,2))},t.\u0275dir=T({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ve("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[I]});let r=t;return r})(),ee=(()=>{let t=class t extends We{constructor(e){super(e)}};t.\u0275fac=function(i){return new(i||t)(_(q,10))},t.\u0275dir=T({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Ve("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[I]});let r=t;return r})();var Ee="VALID",Re="INVALID",fe="PENDING",Te="DISABLED",X=class{},Be=class extends X{constructor(t,n){super(),this.value=t,this.source=n}},Oe=class extends X{constructor(t,n){super(),this.pristine=t,this.source=n}},Fe=class extends X{constructor(t,n){super(),this.touched=t,this.source=n}},ge=class extends X{constructor(t,n){super(),this.status=t,this.source=n}},ut=class extends X{constructor(t){super(),this.source=t}},mt=class extends X{constructor(t){super(),this.source=t}};function _t(r){return(Qe(r)?r.validators:r)||null}function on(r){return Array.isArray(r)?ft(r):r||null}function vt(r,t){return(Qe(t)?t.asyncValidators:r)||null}function sn(r){return Array.isArray(r)?gt(r):r||null}function Qe(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function yi(r,t,n){let e=r.controls;if(!(t?Object.keys(e):e).length)throw new ue(1e3,"");if(!e[n])throw new ue(1001,"")}function xi(r,t,n){r._forEachChild((e,i)=>{if(n[i]===void 0)throw new ue(1002,"")})}var _e=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new $,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ee}get invalid(){return this.status===Re}get pending(){return this.status==fe}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(oi(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(oi(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(si(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(si(t,this._rawAsyncValidators))}hasValidator(t){return Le(this._rawValidators,t)}hasAsyncValidator(t){return Le(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let e=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(L(V({},t),{sourceControl:e})),n&&t.emitEvent!==!1&&this._events.next(new Fe(!0,e))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let e=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:e})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e),n&&t.emitEvent!==!1&&this._events.next(new Fe(!1,e))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let e=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(L(V({},t),{sourceControl:e})),n&&t.emitEvent!==!1&&this._events.next(new Oe(!1,e))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let e=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),n&&t.emitEvent!==!1&&this._events.next(new Oe(!0,e))}markAsPending(t={}){this.status=fe;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ge(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(L(V({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Te,this.errors=null,this._forEachChild(i=>{i.disable(L(V({},t),{onlySelf:!0}))}),this._updateValue();let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Be(this.value,e)),this._events.next(new ge(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(V({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ee,this._forEachChild(e=>{e.enable(L(V({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(L(V({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let e=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ee||this.status===fe)&&this._runAsyncValidator(e,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Be(this.value,n)),this._events.next(new ge(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(L(V({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:Ee}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let e=fi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((e,i)=>e&&e._find(i),this)}getError(t,n){let e=n?this.get(n):this;return e&&e.errors?e.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,e){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||e)&&this._events.next(new ge(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,e)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?Re:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(Re)?Re:Ee}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let e=!this._anyControlsDirty(),i=this.pristine!==e;this.pristine=e,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Oe(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Fe(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qe(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=on(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=sn(this._rawAsyncValidators)}},ve=class extends _e{constructor(t,n,e){super(_t(n),vt(e,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,e={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){xi(this,!0,t),Object.keys(t).forEach(e=>{yi(this,!0,e),this.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(e=>{let i=this.controls[e];i&&i.patchValue(t[e],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((e,i)=>{e.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,e)=>(t[e]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,e)=>e._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let e=this.controls[n];e&&t(e,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,e]of Object.entries(this.controls))if(this.contains(n)&&t(e))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(t,n){let e=t;return this._forEachChild((i,o)=>{e=n(e,i,o)}),e}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var pt=class extends ve{};var Je=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>Ye}),Ye="always";function Si(r,t){return[...t.path,r]}function Ge(r,t,n=Ye){bt(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),ln(r,t),dn(r,t),cn(r,t),an(r,t)}function ai(r,t,n=!0){let e=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(e),t.valueAccessor.registerOnTouched(e)),He(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function qe(r,t){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function an(r,t){if(t.valueAccessor.setDisabledState){let n=e=>{t.valueAccessor.setDisabledState(e)};r.registerOnDisabledChange(n),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}function bt(r,t){let n=bi(r);t.validator!==null?r.setValidators(ri(n,t.validator)):typeof n=="function"&&r.setValidators([n]);let e=Ci(r);t.asyncValidator!==null?r.setAsyncValidators(ri(e,t.asyncValidator)):typeof e=="function"&&r.setAsyncValidators([e]);let i=()=>r.updateValueAndValidity();qe(t._rawValidators,i),qe(t._rawAsyncValidators,i)}function He(r,t){let n=!1;if(r!==null){if(t.validator!==null){let i=bi(r);if(Array.isArray(i)&&i.length>0){let o=i.filter(p=>p!==t.validator);o.length!==i.length&&(n=!0,r.setValidators(o))}}if(t.asyncValidator!==null){let i=Ci(r);if(Array.isArray(i)&&i.length>0){let o=i.filter(p=>p!==t.asyncValidator);o.length!==i.length&&(n=!0,r.setAsyncValidators(o))}}}let e=()=>{};return qe(t._rawValidators,e),qe(t._rawAsyncValidators,e),n}function ln(r,t){t.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&wi(r,t)})}function cn(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&wi(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function wi(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function dn(r,t){let n=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};r.registerOnChange(n),t._registerOnDestroy(()=>{r._unregisterOnChange(n)})}function Mi(r,t){r==null,bt(r,t)}function un(r,t){return He(r,t)}function Vi(r,t){if(!r.hasOwnProperty("model"))return!1;let n=r.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function mn(r){return Object.getPrototypeOf(r.constructor)===$e}function Ei(r,t){r._syncPendingControls(),t.forEach(n=>{let e=n.control;e.updateOn==="submit"&&e._pendingChange&&(n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Ti(r,t){if(!t)return null;Array.isArray(t);let n,e,i;return t.forEach(o=>{o.constructor===W?n=o:mn(o)?e=o:i=o}),i||e||n||null}function pn(r,t){let n=r.indexOf(t);n>-1&&r.splice(n,1)}var hn={provide:q,useExisting:N(()=>ce)},De=Promise.resolve(),ce=(()=>{let t=class t extends q{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new G,this.form=new ve({},ft(e),gt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){De.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ge(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){De.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){De.then(()=>{let i=this._findContainer(e.path),o=new ve({});Mi(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){De.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){De.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Ei(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}};t.\u0275fac=function(i){return new(i||t)(_(le,10),_(ze,10),_(Je,8))},t.\u0275dir=T({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&f("submit",function(v){return o.onSubmit(v)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[j([hn]),I]});let r=t;return r})();function li(r,t){let n=r.indexOf(t);n>-1&&r.splice(n,1)}function ci(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var Ie=class extends _e{constructor(t=null,n,e){super(_t(n),vt(e,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qe(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ci(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){li(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){li(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ci(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var fn=r=>r instanceof Ie;var gn={provide:ae,useExisting:N(()=>de)},di=Promise.resolve(),de=(()=>{let t=class t extends ae{constructor(e,i,o,p,v,k){super(),this._changeDetectorRef=v,this.callSetDisabledState=k,this.control=new Ie,this._registered=!1,this.name="",this.update=new G,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Ti(this,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Vi(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ge(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){di.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&lt(i);di.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Si(e,this._parent):[e]}};t.\u0275fac=function(i){return new(i||t)(_(q,9),_(le,10),_(ze,10),_(be,10),_(at,8),_(Je,8))},t.\u0275dir=T({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[j([gn]),I,Q]});let r=t;return r})(),te=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=T({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let r=t;return r})(),_n={provide:be,useExisting:N(()=>Pe),multi:!0},Pe=(()=>{let t=class t extends $e{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Y(t)))(o||t)}})(),t.\u0275dir=T({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&f("input",function(v){return o.onChange(v.target.value)})("blur",function(){return o.onTouched()})},features:[j([_n]),I]});let r=t;return r})();var Di=new oe("");var vn={provide:q,useExisting:N(()=>Ct)},Ct=(()=>{let t=class t extends q{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new G,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(He(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Ge(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ai(e.control||null,e,!1),pn(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Ei(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ut(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1,this.form._events.next(new mt(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(ai(i||null,e),fn(o)&&(Ge(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Mi(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&un(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bt(this.form,this),this._oldForm&&He(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(i){return new(i||t)(_(le,10),_(ze,10),_(Je,8))},t.\u0275dir=T({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&f("submit",function(v){return o.onSubmit(v)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[j([vn]),I,Q]});let r=t;return r})();var bn={provide:ae,useExisting:N(()=>yt)},yt=(()=>{let t=class t extends ae{set isDisabled(e){}constructor(e,i,o,p,v){super(),this._ngModelWarningConfig=v,this._added=!1,this.name=null,this.update=new G,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Ti(this,p)}ngOnChanges(e){this._added||this._setUpControl(),Vi(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Si(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(i){return new(i||t)(_(q,13),_(le,10),_(ze,10),_(be,10),_(Di,8))},t.\u0275dir=T({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[j([bn]),I,Q]});let r=t;return r})(),Cn={provide:be,useExisting:N(()=>Ce),multi:!0};function Oi(r,t){return r==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${r}: ${t}`.slice(0,50))}function yn(r){return r.split(":")[0]}var Ce=(()=>{let t=class t extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),o=Oi(i,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=yn(e);return this._optionMap.has(i)?this._optionMap.get(i):e}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Y(t)))(o||t)}})(),t.\u0275dir=T({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&f("change",function(v){return o.onChange(v.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[j([Cn]),I]});let r=t;return r})(),Ze=(()=>{let t=class t{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Oi(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(_(he),_(Me),_(Ce,9))},t.\u0275dir=T({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=t;return r})(),xn={provide:be,useExisting:N(()=>Fi),multi:!0};function ui(r,t){return r==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${r}: ${t}`.slice(0,50))}function Sn(r){return r.split(":")[0]}var Fi=(()=>{let t=class t extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let o=e.map(p=>this._getOptionId(p));i=(p,v)=>{p._setSelected(o.indexOf(v.toString())>-1)}}else i=(o,p)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let o=[],p=i.selectedOptions;if(p!==void 0){let v=p;for(let k=0;k<v.length;k++){let Ne=v[k],it=this._getOptionValue(Ne.value);o.push(it)}}else{let v=i.options;for(let k=0;k<v.length;k++){let Ne=v[k];if(Ne.selected){let it=this._getOptionValue(Ne.value);o.push(it)}}}this.value=o,e(o)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=Sn(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Y(t)))(o||t)}})(),t.\u0275dir=T({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&f("change",function(v){return o.onChange(v.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[j([xn]),I]});let r=t;return r})(),Xe=(()=>{let t=class t{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ui(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ui(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(_(he),_(Me),_(Fi,9))},t.\u0275dir=T({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=t;return r})();function Ii(r){return typeof r=="number"?r:parseFloat(r)}var xt=(()=>{let t=class t{constructor(){this._validator=ni}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ni,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=T({type:t,features:[Q]});let r=t;return r})(),wn={provide:le,useExisting:N(()=>St),multi:!0},St=(()=>{let t=class t extends xt{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>Ii(e),this.createValidator=e=>Xi(e)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Y(t)))(o||t)}})(),t.\u0275dir=T({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&je("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[j([wn]),I]});let r=t;return r})(),Mn={provide:le,useExisting:N(()=>wt),multi:!0},wt=(()=>{let t=class t extends xt{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>Ii(e),this.createValidator=e=>Zi(e)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Y(t)))(o||t)}})(),t.\u0275dir=T({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&je("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[j([Mn]),I]});let r=t;return r})(),Vn={provide:le,useExisting:N(()=>H),multi:!0};var H=(()=>{let t=class t extends xt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=lt,this.createValidator=e=>Ki}enabled(e){return e}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Y(t)))(o||t)}})(),t.\u0275dir=T({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&je("required",o._enabled?"":null)},inputs:{required:"required"},features:[j([Vn]),I]});let r=t;return r})();var Ai=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=pe({type:t}),t.\u0275inj=me({});let r=t;return r})(),ht=class extends _e{constructor(t,n,e){super(_t(n),vt(e,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,e={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent})}removeAt(t,n={}){let e=this._adjustIndex(t);e<0&&(e=0),this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){xi(this,!1,t),t.forEach((e,i)=>{yi(this,!1,i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((e,i)=>{e.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,e)=>e._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,e)=>{t(n,e)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function mi(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var Ji=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let o=this._reduceControls(e),p={};return mi(i)?p=i:i!==null&&(p.validators=i.validator,p.asyncValidators=i.asyncValidator),new ve(o,p)}record(e,i=null){let o=this._reduceControls(e);return new pt(o,i)}control(e,i,o){let p={};return this.useNonNullable?(mi(i)?p=i:(p.validators=i,p.asyncValidators=o),new Ie(e,L(V({},p),{nonNullable:!0}))):new Ie(e,i,o)}array(e,i,o){let p=e.map(v=>this._createControl(v));return new ht(p,i,o)}_reduceControls(e){let i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){if(e instanceof Ie)return e;if(e instanceof _e)return e;if(Array.isArray(e)){let i=e[0],o=e.length>1?e[1]:null,p=e.length>2?e[2]:null;return this.control(i,o,p)}else return this.control(e)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var ie=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:Je,useValue:e.callSetDisabledState??Ye}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=pe({type:t}),t.\u0275inj=me({imports:[Ai]});let r=t;return r})(),Pi=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:Di,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Je,useValue:e.callSetDisabledState??Ye}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=pe({type:t}),t.\u0275inj=me({imports:[Ai]});let r=t;return r})();var ne=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="/api/clients"}getClients(){return this.http.get(this.apiUrl)}getClient(e){return this.http.get(`${this.apiUrl}/${e}`)}addClient(e){return this.http.post(this.apiUrl,e)}updateClient(e,i){return this.http.put(`${this.apiUrl}/${e}`,i)}deleteClient(e){return this.http.delete(`${this.apiUrl}/${e}`)}};t.\u0275fac=function(i){return new(i||t)(z(Z))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var ye=(()=>{let t=class t{constructor(){this.clientUpdatedSource=new $,this.serviceUpdatedSource=new $,this.jobUpdatedSource=new $,this.clientUpdated$=this.clientUpdatedSource.asObservable(),this.serviceUpdated$=this.serviceUpdatedSource.asObservable(),this.jobUpdated$=this.jobUpdatedSource.asObservable()}notifyClientUpdated(){this.clientUpdatedSource.next()}notifyServiceUpdated(){this.serviceUpdatedSource.next()}notifyJobUpdated(){this.jobUpdatedSource.next()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function En(r,t){if(r&1){let n=S();a(0,"li",6)(1,"strong"),l(2),s(),a(3,"div",7)(4,"button",8),f("click",function(){let i=u(n).$implicit,o=d();return m(o.openEditClientModal(i))}),l(5,"Edit"),s(),a(6,"button",9),f("click",function(){let i=u(n).$implicit,o=d();return m(o.deleteClient(i._id))}),l(7,"Delete"),s()()()}if(r&2){let n=t.$implicit;c(2),w(n.clientname)}}function Tn(r,t){if(r&1){let n=S();a(0,"div",10)(1,"div",11)(2,"span",12),f("click",function(){u(n);let i=d();return m(i.toggleAddClientModal())}),l(3,"\xD7"),s(),a(4,"h3"),l(5,"Add Client"),s(),a(6,"form",13),f("ngSubmit",function(){u(n);let i=d();return m(i.addClient())}),a(7,"div",14)(8,"label",15),l(9,"Client Name:"),s(),a(10,"input",16),y("ngModelChange",function(i){u(n);let o=d();return C(o.newClient.clientname,i)||(o.newClient.clientname=i),m(i)}),s()(),a(11,"button",17),l(12,"Add Client"),s()()()()}if(r&2){let n=d();c(10),b("ngModel",n.newClient.clientname)}}function Dn(r,t){if(r&1){let n=S();a(0,"div",10)(1,"div",11)(2,"span",12),f("click",function(){u(n);let i=d();return m(i.toggleEditClientModal())}),l(3,"\xD7"),s(),a(4,"h3"),l(5,"Edit Client"),s(),a(6,"form",13),f("ngSubmit",function(){u(n);let i=d();return m(i.updateClient())}),a(7,"div",14)(8,"label",18),l(9,"Client Name:"),s(),a(10,"input",19),y("ngModelChange",function(i){u(n);let o=d();return C(o.editingClient.clientname,i)||(o.editingClient.clientname=i),m(i)}),s()(),a(11,"button",17),l(12,"Update Client"),s()()()()}if(r&2){let n=d();c(10),b("ngModel",n.editingClient.clientname)}}var ki=(()=>{let t=class t{constructor(e,i){this.clientService=e,this.notificationService=i,this.clients=[],this.newClient={clientname:"",jobs:[],_id:""},this.editingClient=null,this.addClientModalVisible=!1,this.editClientModalVisible=!1}ngOnInit(){this.getClients()}getClients(){this.clientService.getClients().subscribe(e=>this.clients=e)}toggleAddClientModal(){this.addClientModalVisible=!this.addClientModalVisible}toggleEditClientModal(){this.editClientModalVisible=!this.editClientModalVisible}addClient(){this.newClient.clientname.trim()&&this.clientService.addClient(this.newClient).subscribe(e=>{this.clients.push(e),this.newClient={clientname:"",jobs:[],_id:""},this.notificationService.notifyClientUpdated(),this.toggleAddClientModal()})}openEditClientModal(e){this.editingClient=V({},e),this.toggleEditClientModal()}updateClient(){this.editingClient&&this.clientService.updateClient(this.editingClient._id,this.editingClient).subscribe(()=>{let e=this.clients.findIndex(i=>i._id===this.editingClient._id);e!==-1&&(this.clients[e]=this.editingClient),this.editingClient=null,this.notificationService.notifyClientUpdated(),this.toggleEditClientModal()})}deleteClient(e){this.clientService.deleteClient(e).subscribe(()=>{this.clients=this.clients.filter(i=>i._id!==e),this.notificationService.notifyClientUpdated()})}};t.\u0275fac=function(i){return new(i||t)(_(ne),_(ye))},t.\u0275cmp=D({type:t,selectors:[["app-client"]],standalone:!0,features:[O],decls:9,vars:3,consts:[[1,"container"],[1,"text-center","my-4"],[1,"btn","btn-primary","mb-3",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"list-group-item"],[1,"btn-group"],[1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","clientname"],["type","text","name","clientname","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","mt-3"],["for","editClientname"],["type","text","name","editClientname","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h2",1),l(2,"Clients"),s(),a(3,"button",2),f("click",function(){return o.toggleAddClientModal()}),l(4,"Add Client"),s(),a(5,"ul",3),g(6,En,8,1,"li",4),s(),g(7,Tn,13,1,"div",5)(8,Dn,13,1,"div",5),s()),i&2&&(c(6),h("ngForOf",o.clients),c(),h("ngIf",o.addClientModalVisible),c(),h("ngIf",o.editClientModalVisible&&o.editingClient))},dependencies:[F,R,P,ie,te,W,K,ee,H,de,ce],styles:[".container[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.btn[_ngcontent-%COMP%]{margin-top:10px}.list-group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;border:1px solid #ddd;border-radius:8px;padding:15px;background-color:#f9f9f9}.list-group-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-bottom:5px}.btn-group[_ngcontent-%COMP%]{display:flex;gap:10px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;margin:0 10px;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:10% auto;padding:20px;border:1px solid #888;width:90%;max-width:600px;border-radius:10px;box-shadow:0 4px 8px #0003}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.list-group[_ngcontent-%COMP%]{padding-left:0}"]});let r=t;return r})();var Se=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="/api/services"}getServices(){return this.http.get(this.apiUrl)}getService(e){return this.http.get(`${this.apiUrl}/${e}`)}addService(e){return this.http.post(this.apiUrl,e)}updateService(e,i){return this.http.put(`${this.apiUrl}/${e}`,i)}deleteService(e){return this.http.delete(`${this.apiUrl}/${e}`)}};t.\u0275fac=function(i){return new(i||t)(z(Z))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function On(r,t){if(r&1&&(a(0,"li"),l(1),Lt(2,"currency"),s()),r&2){let n=t.$implicit;c(),U(" ",n.level,": ",Ut(2,2,n.rate)," ")}}function Fn(r,t){if(r&1){let n=S();a(0,"li",6)(1,"strong"),l(2),s(),a(3,"ul"),g(4,On,3,4,"li",7),s(),a(5,"button",8),f("click",function(){let i=u(n).$implicit,o=d();return m(o.openEditServiceModal(i))}),l(6,"Edit"),s(),a(7,"button",9),f("click",function(){let i=u(n).$implicit,o=d();return m(o.deleteService(i._id))}),l(8,"Delete"),s()()}if(r&2){let n=t.$implicit;c(2),w(n.servicename),c(2),h("ngForOf",n.severities)}}function In(r,t){if(r&1){let n=S();a(0,"div",14)(1,"label",20),l(2,"Severity Level:"),s(),a(3,"input",21),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.level,i)||(o.level=i),m(i)}),s(),a(4,"label",20),l(5,"Rate:"),s(),a(6,"input",22),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.rate,i)||(o.rate=i),m(i)}),s(),a(7,"button",23),f("click",function(){let i=u(n).index,o=d(2);return m(o.removeSeverity(i))}),l(8,"Remove Severity"),s()()}if(r&2){let n=t.$implicit,e=t.index;c(),E("for","severityLevel",e,""),c(2),E("name","severityLevel",e,""),b("ngModel",n.level),c(),E("for","severityRate",e,""),c(2),E("name","severityRate",e,""),b("ngModel",n.rate)}}function An(r,t){if(r&1){let n=S();a(0,"div",10)(1,"div",11)(2,"span",12),f("click",function(){u(n);let i=d();return m(i.toggleAddServiceModal())}),l(3,"\xD7"),s(),a(4,"h3"),l(5,"Add Service"),s(),a(6,"form",13),f("ngSubmit",function(){u(n);let i=d();return m(i.addService())}),a(7,"div",14)(8,"label",15),l(9,"Service Name:"),s(),a(10,"input",16),y("ngModelChange",function(i){u(n);let o=d();return C(o.newService.servicename,i)||(o.newService.servicename=i),m(i)}),s()(),g(11,In,9,10,"div",17),a(12,"button",18),f("click",function(){u(n);let i=d();return m(i.addSeverity())}),l(13,"Add Severity"),s(),a(14,"button",19),l(15,"Add Service"),s()()()()}if(r&2){let n=d();c(10),b("ngModel",n.newService.servicename),c(),h("ngForOf",n.newService.severities)}}function Jn(r,t){if(r&1){let n=S();a(0,"div",14)(1,"label",20),l(2,"Severity Level:"),s(),a(3,"input",21),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.level,i)||(o.level=i),m(i)}),s(),a(4,"label",20),l(5,"Rate:"),s(),a(6,"input",22),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.rate,i)||(o.rate=i),m(i)}),s(),a(7,"button",23),f("click",function(){let i=u(n).index,o=d(2);return m(o.removeSeverity(i,!0))}),l(8,"Remove Severity"),s()()}if(r&2){let n=t.$implicit,e=t.index;c(),E("for","editSeverityLevel",e,""),c(2),E("name","editSeverityLevel",e,""),b("ngModel",n.level),c(),E("for","editSeverityRate",e,""),c(2),E("name","editSeverityRate",e,""),b("ngModel",n.rate)}}function Pn(r,t){if(r&1){let n=S();a(0,"div",10)(1,"div",11)(2,"span",12),f("click",function(){u(n);let i=d();return m(i.toggleEditServiceModal())}),l(3,"\xD7"),s(),a(4,"h3"),l(5,"Edit Service"),s(),a(6,"form",13),f("ngSubmit",function(){u(n);let i=d();return m(i.updateService())}),a(7,"div",14)(8,"label",24),l(9,"Service Name:"),s(),a(10,"input",25),y("ngModelChange",function(i){u(n);let o=d();return C(o.editingService.servicename,i)||(o.editingService.servicename=i),m(i)}),s()(),g(11,Jn,9,10,"div",17),a(12,"button",18),f("click",function(){u(n);let i=d();return m(i.addSeverity(!0))}),l(13,"Add Severity"),s(),a(14,"button",19),l(15,"Update Service"),s()()()()}if(r&2){let n=d();c(10),b("ngModel",n.editingService.servicename),c(),h("ngForOf",n.editingService.severities)}}var Ni=(()=>{let t=class t{constructor(e,i){this.serviceService=e,this.notificationService=i,this.services=[],this.newService={servicename:"",severities:[],_id:""},this.editingService=null,this.addServiceModalVisible=!1,this.editServiceModalVisible=!1}ngOnInit(){this.getServices()}getServices(){this.serviceService.getServices().subscribe(e=>this.services=e)}toggleAddServiceModal(){this.addServiceModalVisible=!this.addServiceModalVisible}toggleEditServiceModal(){this.editServiceModalVisible=!this.editServiceModalVisible}addSeverity(e=!1){let i={level:"",rate:0};e&&this.editingService?this.editingService.severities.push(i):this.newService.severities.push(i)}removeSeverity(e,i=!1){i&&this.editingService?this.editingService.severities.splice(e,1):this.newService.severities.splice(e,1)}addService(){this.newService.servicename.trim()&&this.serviceService.addService(this.newService).subscribe(e=>{this.services.push(e),this.newService={servicename:"",severities:[],_id:""},this.notificationService.notifyServiceUpdated(),this.toggleAddServiceModal()})}openEditServiceModal(e){this.editingService=V({},e),this.toggleEditServiceModal()}updateService(){this.editingService&&this.serviceService.updateService(this.editingService._id,this.editingService).subscribe(()=>{let e=this.services.findIndex(i=>i._id===this.editingService._id);e!==-1&&(this.services[e]=this.editingService),this.editingService=null,this.notificationService.notifyServiceUpdated(),this.toggleEditServiceModal()})}deleteService(e){this.serviceService.deleteService(e).subscribe(()=>{this.services=this.services.filter(i=>i._id!==e),this.notificationService.notifyServiceUpdated()})}};t.\u0275fac=function(i){return new(i||t)(_(Se),_(ye))},t.\u0275cmp=D({type:t,selectors:[["app-service"]],standalone:!0,features:[O],decls:9,vars:3,consts:[[1,"container"],[1,"text-center","my-4"],[1,"btn","btn-primary","mb-3",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","servicename"],["type","text","name","servicename","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","form-group",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],["type","submit",1,"btn","btn-primary","mt-3"],[3,"for"],["type","text","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","number","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-danger","mt-2",3,"click"],["for","editServicename"],["type","text","name","editServicename","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h2",1),l(2,"Services Dashboard"),s(),a(3,"button",2),f("click",function(){return o.toggleAddServiceModal()}),l(4,"Add Service"),s(),a(5,"ul",3),g(6,Fn,9,2,"li",4),s(),g(7,An,16,2,"div",5)(8,Pn,16,2,"div",5),s()),i&2&&(c(6),h("ngForOf",o.services),c(),h("ngIf",o.addServiceModalVisible),c(),h("ngIf",o.editServiceModalVisible&&o.editingService))},dependencies:[F,R,P,Ht,ie,te,W,Pe,K,ee,H,de,ce],styles:[".container[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.btn[_ngcontent-%COMP%]{margin-top:10px}.list-group-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;border:1px solid #ddd;border-radius:8px;padding:15px;background-color:#f9f9f9}.list-group-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-bottom:5px}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:10% auto;padding:20px;border:1px solid #888;width:90%;max-width:600px;border-radius:10px;box-shadow:0 4px 8px #0003}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.list-group[_ngcontent-%COMP%]{padding-left:0}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;margin:0 10px;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}"]});let r=t;return r})();var Ao=typeof document<"u"?document.createDocumentFragment():null;var Jo=typeof document<"u"?document.createDocumentFragment():null;var ji=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=pe({type:r}),r.\u0275inj=me({imports:[[F]]}),r})();var re=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="/api/jobs",this.jobAdded=new G}getJobs(){return this.http.get(this.apiUrl)}getJob(e){return this.http.get(`${this.apiUrl}/${e}`)}addJob(e){return this.http.post(this.apiUrl,e).pipe(we(i=>this.jobAdded.emit(i)))}addRecurringJobs(e){return this.http.post(`${this.apiUrl}/recurring`,e)}updateJob(e,i){return this.http.put(`${this.apiUrl}/${e}`,i)}deleteJob(e){return this.http.delete(`${this.apiUrl}/${e}`)}};t.\u0275fac=function(i){return new(i||t)(z(Z))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var B=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="api/auth",this.userRole=null,this.userServices=[],this.loginStatusSubject=new $,this.loadUserFromLocalStorage()}get loginStatus$(){return this.loginStatusSubject.asObservable()}login(e,i){return this.http.post(`${this.apiUrl}/login`,{email:e,password:i}).pipe(we(o=>{o&&o.role&&(this.userRole=o.role,this.userServices=o.services||[],this.saveUserToLocalStorage(o),this.notifyLoginStatusChange())}))}signup(e){return this.http.post(`${this.apiUrl}/signup`,e).pipe(we(i=>{i&&(this.userRole=i.role,this.userServices=i.services||[],this.saveUserToLocalStorage(i),this.notifyLoginStatusChange())}))}getUserRole(){return this.userRole}getCurrentUserServices(){return this.userServices}getUser(e){return this.http.get(`${this.apiUrl}/user/${e}`)}updateUser(e,i){return this.http.put(`${this.apiUrl}/user/${e}`,i)}deleteUser(e){return this.http.delete(`${this.apiUrl}/user/${e}`)}getUsersByRole(e){return this.http.get(`${this.apiUrl}/role/${e}`)}saveUserToLocalStorage(e){typeof window<"u"&&localStorage&&localStorage.setItem("currentUser",JSON.stringify(e))}loadUserFromLocalStorage(){if(typeof window<"u"&&localStorage){let e=localStorage.getItem("currentUser");if(e){let i=JSON.parse(e);this.userRole=i.role,this.userServices=i.services||[]}}}notifyLoginStatusChange(){this.loginStatusSubject.next()}};t.\u0275fac=function(i){return new(i||t)(z(Z))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function kn(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n._id),c(),w(n.clientname)}}function Nn(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n._id),c(),w(n.servicename)}}function jn(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n.level),c(),w(n.level)}}function Rn(r,t){if(r&1){let n=S();a(0,"div",12)(1,"label",28),l(2,"Severity Level:"),s(),a(3,"select",29),y("ngModelChange",function(i){u(n);let o=d(3);return C(o.newJob.severityLevel,i)||(o.newJob.severityLevel=i),m(i)}),f("change",function(){u(n);let i=d(3);return m(i.updateTotalPrice())}),g(4,jn,2,2,"option",17),s()()}if(r&2){let n=d(3);c(3),b("ngModel",n.newJob.severityLevel),c(),h("ngForOf",n.severityLevels)}}function Ln(r,t){if(r&1){let n=S();a(0,"div",30)(1,"h5"),l(2),s(),a(3,"div",12)(4,"label",31),l(5,"Date:"),s(),a(6,"input",32),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.date,i)||(o.date=i),m(i)}),s()(),a(7,"div",12)(8,"label",33),l(9,"Start Time:"),s(),a(10,"input",34),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.startTime,i)||(o.startTime=i),m(i)}),f("change",function(){let i=u(n).$implicit,o=d(3);return m(o.calculateTotalTime(i))}),s()(),a(11,"div",12)(12,"label",35),l(13,"End Time:"),s(),a(14,"input",34),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.endTime,i)||(o.endTime=i),m(i)}),f("change",function(){let i=u(n).$implicit,o=d(3);return m(o.calculateTotalTime(i))}),s()(),a(15,"div",12)(16,"label",36),l(17,"Total Time:"),s(),a(18,"input",37),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.totalTime,i)||(o.totalTime=i),m(i)}),s()(),a(19,"button",38),f("click",function(){let i=u(n).index,o=d(3);return m(o.removeDateOfService(i))}),l(20,"Remove Date of Service"),s()()}if(r&2){let n=t.$implicit,e=t.index;c(2),x("Date of Service ",e+1,""),c(4),E("name","date",e,""),b("ngModel",n.date),c(4),E("name","startTime",e,""),b("ngModel",n.startTime),c(4),E("name","endTime",e,""),b("ngModel",n.endTime),c(4),E("name","totalTime",e,""),b("ngModel",n.totalTime)}}function Un(r,t){if(r&1){let n=S();a(0,"div",44)(1,"h6"),l(2),s(),a(3,"div",45)(4,"div",46)(5,"label",47),l(6,"Length:"),s(),a(7,"input",48),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.length,i)||(o.length=i),m(i)}),f("input",function(){u(n);let i=d(4);return m(i.updateTotalSquareFootage())}),s()(),a(8,"div",46)(9,"label",49),l(10,"Width:"),s(),a(11,"input",48),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.width,i)||(o.width=i),m(i)}),f("input",function(){u(n);let i=d(4);return m(i.updateTotalSquareFootage())}),s()(),a(12,"div",50)(13,"button",51),f("click",function(){let i=u(n).index,o=d().index,p=d(3);return m(p.removeMeasurement(o,i))}),l(14,"Remove"),s()()()()}if(r&2){let n=t.$implicit,e=t.index,i=d().index;c(2),x("Measurement ",e+1,""),c(5),se("name","length",i,"",e,""),b("ngModel",n.length),c(4),se("name","width",i,"",e,""),b("ngModel",n.width)}}function Wn(r,t){if(r&1){let n=S();a(0,"div",39)(1,"h5"),l(2),s(),a(3,"div",12)(4,"label",40),l(5,"Section Name:"),s(),a(6,"input",41),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.sectionName,i)||(o.sectionName=i),m(i)}),s()(),g(7,Un,15,9,"div",42),a(8,"button",43),f("click",function(){let i=u(n).index,o=d(3);return m(o.addMeasurement(i))}),l(9,"Add Measurement"),s(),a(10,"button",38),f("click",function(){let i=u(n).index,o=d(3);return m(o.removeSection(i))}),l(11,"Remove Section"),s()()}if(r&2){let n=t.$implicit,e=t.index;c(2),x("Section ",e+1,""),c(4),E("name","sectionName",e,""),b("ngModel",n.sectionName),c(),h("ngForOf",n.measurements)}}function Bn(r,t){if(r&1){let n=S();a(0,"form",11),f("ngSubmit",function(){u(n);let i=d(2);return m(i.addJob())}),a(1,"div",12)(2,"label",13),l(3,"Job Title:"),s(),a(4,"input",14),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.jobTitle,i)||(o.newJob.jobTitle=i),m(i)}),s()(),a(5,"div",12)(6,"label",15),l(7,"Customer:"),s(),a(8,"select",16),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.customer,i)||(o.newJob.customer=i),m(i)}),g(9,kn,2,2,"option",17),s()(),a(10,"div",12)(11,"label",18),l(12,"Service Type:"),s(),a(13,"select",19),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.serviceType._id,i)||(o.newJob.serviceType._id=i),m(i)}),f("change",function(){u(n);let i=d(2);return m(i.updateSeverityLevels())}),g(14,Nn,2,2,"option",17),s()(),g(15,Rn,5,2,"div",20),a(16,"div",12)(17,"label",21),l(18,"Number of Contractors:"),s(),a(19,"input",22),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.numberofcontractors,i)||(o.newJob.numberofcontractors=i),m(i)}),s()(),g(20,Ln,21,13,"div",23),a(21,"button",24),f("click",function(){u(n);let i=d(2);return m(i.addDateOfService())}),l(22,"Add Date of Service"),s(),g(23,Wn,12,5,"div",25),a(24,"button",24),f("click",function(){u(n);let i=d(2);return m(i.addSection())}),l(25,"Add Section"),s(),a(26,"button",26),l(27,"Add Job"),s()()}if(r&2){let n=d(2);c(4),b("ngModel",n.newJob.jobTitle),c(4),b("ngModel",n.newJob.customer),c(),h("ngForOf",n.clients),c(4),b("ngModel",n.newJob.serviceType._id),c(),h("ngForOf",n.services),c(),h("ngIf",n.severityLevels.length>0),c(4),b("ngModel",n.newJob.numberofcontractors),c(),h("ngForOf",n.newJob.datesOfService),c(3),h("ngForOf",n.newJob.sections)}}function Gn(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n._id),c(),w(n.clientname)}}function qn(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n._id),c(),w(n.servicename)}}function Hn(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n.level),c(),w(n.level)}}function $n(r,t){if(r&1){let n=S();a(0,"div",12)(1,"label",28),l(2,"Severity Level:"),s(),a(3,"select",29),y("ngModelChange",function(i){u(n);let o=d(3);return C(o.newJob.severityLevel,i)||(o.newJob.severityLevel=i),m(i)}),f("change",function(){u(n);let i=d(3);return m(i.updateTotalPrice())}),g(4,Hn,2,2,"option",17),s()()}if(r&2){let n=d(3);c(3),b("ngModel",n.newJob.severityLevel),c(),h("ngForOf",n.severityLevels)}}function zn(r,t){if(r&1){let n=S();a(0,"div",44)(1,"h6"),l(2),s(),a(3,"div",45)(4,"div",46)(5,"label",47),l(6,"Length:"),s(),a(7,"input",48),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.length,i)||(o.length=i),m(i)}),f("input",function(){u(n);let i=d(4);return m(i.updateTotalSquareFootage())}),s()(),a(8,"div",46)(9,"label",49),l(10,"Width:"),s(),a(11,"input",48),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.width,i)||(o.width=i),m(i)}),f("input",function(){u(n);let i=d(4);return m(i.updateTotalSquareFootage())}),s()(),a(12,"div",50)(13,"button",51),f("click",function(){let i=u(n).index,o=d().index,p=d(3);return m(p.removeMeasurement(o,i))}),l(14,"Remove"),s()()()()}if(r&2){let n=t.$implicit,e=t.index,i=d().index;c(2),x("Measurement ",e+1,""),c(5),se("name","length",i,"",e,""),b("ngModel",n.length),c(4),se("name","width",i,"",e,""),b("ngModel",n.width)}}function Qn(r,t){if(r&1){let n=S();a(0,"div",39)(1,"h5"),l(2),s(),a(3,"div",12)(4,"label",40),l(5,"Section Name:"),s(),a(6,"input",41),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.sectionName,i)||(o.sectionName=i),m(i)}),s()(),g(7,zn,15,9,"div",42),a(8,"button",43),f("click",function(){let i=u(n).index,o=d(3);return m(o.addMeasurement(i))}),l(9,"Add Measurement"),s(),a(10,"button",38),f("click",function(){let i=u(n).index,o=d(3);return m(o.removeSection(i))}),l(11,"Remove Section"),s()()}if(r&2){let n=t.$implicit,e=t.index;c(2),x("Section ",e+1,""),c(4),E("name","sectionName",e,""),b("ngModel",n.sectionName),c(),h("ngForOf",n.measurements)}}function Yn(r,t){if(r&1){let n=S();a(0,"form",11),f("ngSubmit",function(){u(n);let i=d(2);return m(i.addJob())}),a(1,"div",12)(2,"label",13),l(3,"Job Title:"),s(),a(4,"input",14),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.jobTitle,i)||(o.newJob.jobTitle=i),m(i)}),s()(),a(5,"div",12)(6,"label",15),l(7,"Customer:"),s(),a(8,"select",16),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.customer,i)||(o.newJob.customer=i),m(i)}),g(9,Gn,2,2,"option",17),s()(),a(10,"div",12)(11,"label",18),l(12,"Service Type:"),s(),a(13,"select",19),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.serviceType._id,i)||(o.newJob.serviceType._id=i),m(i)}),f("change",function(){u(n);let i=d(2);return m(i.updateSeverityLevels())}),g(14,qn,2,2,"option",17),s()(),g(15,$n,5,2,"div",20),a(16,"div",12)(17,"label",21),l(18,"Number of Contractors:"),s(),a(19,"input",22),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.numberofcontractors,i)||(o.newJob.numberofcontractors=i),m(i)}),s()(),a(20,"div",12)(21,"label",52),l(22,"Recurrence:"),s(),a(23,"select",53),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.recurrence,i)||(o.recurrence=i),m(i)}),a(24,"option",54),l(25,"Daily"),s(),a(26,"option",55),l(27,"Weekly"),s(),a(28,"option",56),l(29,"Monthly"),s()()(),a(30,"div",12)(31,"label",57),l(32,"Occurrences:"),s(),a(33,"input",58),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.recurrenceCount,i)||(o.recurrenceCount=i),m(i)}),s()(),a(34,"div",12)(35,"label",31),l(36,"Start Date:"),s(),a(37,"input",59),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.datesOfService[0].date,i)||(o.newJob.datesOfService[0].date=i),m(i)}),s()(),a(38,"div",12)(39,"label",33),l(40,"Start Time:"),s(),a(41,"input",60),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.datesOfService[0].startTime,i)||(o.newJob.datesOfService[0].startTime=i),m(i)}),f("change",function(){u(n);let i=d(2);return m(i.calculateTotalTime(i.newJob.datesOfService[0]))}),s()(),a(42,"div",12)(43,"label",35),l(44,"End Time:"),s(),a(45,"input",61),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.datesOfService[0].endTime,i)||(o.newJob.datesOfService[0].endTime=i),m(i)}),f("change",function(){u(n);let i=d(2);return m(i.calculateTotalTime(i.newJob.datesOfService[0]))}),s()(),a(46,"div",12)(47,"label",36),l(48,"Total Time:"),s(),a(49,"input",62),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.newJob.datesOfService[0].totalTime,i)||(o.newJob.datesOfService[0].totalTime=i),m(i)}),s()(),g(50,Qn,12,5,"div",25),a(51,"button",24),f("click",function(){u(n);let i=d(2);return m(i.addSection())}),l(52,"Add Section"),s(),a(53,"button",26),l(54,"Add Job"),s()()}if(r&2){let n=d(2);c(4),b("ngModel",n.newJob.jobTitle),c(4),b("ngModel",n.newJob.customer),c(),h("ngForOf",n.clients),c(4),b("ngModel",n.newJob.serviceType._id),c(),h("ngForOf",n.services),c(),h("ngIf",n.severityLevels.length>0),c(4),b("ngModel",n.newJob.numberofcontractors),c(4),b("ngModel",n.recurrence),c(10),b("ngModel",n.recurrenceCount),c(4),b("ngModel",n.newJob.datesOfService[0].date),c(4),b("ngModel",n.newJob.datesOfService[0].startTime),c(4),b("ngModel",n.newJob.datesOfService[0].endTime),c(4),b("ngModel",n.newJob.datesOfService[0].totalTime),c(),h("ngForOf",n.newJob.sections)}}function Zn(r,t){if(r&1){let n=S();a(0,"div",6)(1,"h4",7),l(2,"Add New Job"),s(),a(3,"button",8),f("click",function(){u(n);let i=d();return m(i.setJobType("regular"))}),l(4,"Regular Date/Time"),s(),a(5,"button",9),f("click",function(){u(n);let i=d();return m(i.setJobType("recurring"))}),l(6,"Recurring"),s(),g(7,Bn,28,9,"form",10)(8,Yn,55,14,"form",10),s()}if(r&2){let n=d();c(7),h("ngIf",n.jobType==="regular"),c(),h("ngIf",n.jobType==="recurring")}}function Xn(r,t){if(r&1&&(rt(0),a(1,"span")(2,"strong"),l(3,"Date of Service:"),s(),l(4),s(),M(5,"br"),a(6,"span")(7,"strong"),l(8,"Start Time:"),s(),l(9),a(10,"strong"),l(11," -- "),s()(),a(12,"span")(13,"strong"),l(14,"End Time:"),s(),l(15),s(),M(16,"br"),a(17,"span")(18,"strong"),l(19,"Total Time:"),s(),l(20),s(),ot()),r&2){let n=t.ngIf;c(4),x(" ",n.date,""),c(5),x(" ",n.startTime,""),c(6),x(" ",n.endTime,""),c(5),x(" ",n.totalTime,"")}}function Kn(r,t){if(r&1&&(a(0,"li"),l(1),s()),r&2){let n=t.$implicit,e=d(3);c(),w(e.getContractorName(n))}}function er(r,t){if(r&1&&(rt(0),a(1,"span")(2,"strong"),l(3,"Contractors:"),s()(),a(4,"ul"),g(5,Kn,2,1,"li",70),s(),ot()),r&2){let n=d().$implicit;c(5),h("ngForOf",n.contractors)}}function tr(r,t){if(r&1){let n=S();a(0,"div",63)(1,"div",64)(2,"div",65)(3,"h5",66),l(4),s(),a(5,"div",67)(6,"span")(7,"strong"),l(8,"Customer:"),s(),l(9),s(),M(10,"br"),a(11,"span")(12,"strong"),l(13,"Service Type:"),s(),l(14),s(),M(15,"br"),a(16,"span")(17,"strong"),l(18,"Severity Level:"),s(),l(19),s(),M(20,"br"),a(21,"span")(22,"strong"),l(23,"Total Square Footage:"),s(),l(24),s(),M(25,"br"),g(26,Xn,21,4,"ng-container",68)(27,er,6,1,"ng-container",68),s(),a(28,"button",69),f("click",function(){let i=u(n).$implicit,o=d();return m(o.openJobModal(i))}),l(29,"View Details"),s(),M(30,"br")(31,"br"),s()()()}if(r&2){let n=t.$implicit,e=d();c(4),w(n.jobTitle),c(5),x(" ",e.getClientName(n.customer),""),c(5),x(" ",n.serviceType.servicename,""),c(5),x(" ",n.severityLevel,""),c(5),x(" ",n.totalSquareFootage,""),c(2),h("ngIf",e.getClosestServiceDate(n.datesOfService)),c(),h("ngIf",n.contractors&&n.contractors.length>0)}}function ir(r,t){if(r&1&&(a(0,"tr")(1,"th"),l(2,"Date of Service"),s(),a(3,"td"),l(4),s()()),r&2){let n=t.$implicit;c(4),w(n.date)}}function nr(r,t){if(r&1&&(a(0,"tr")(1,"th"),l(2,"Section Name"),s(),a(3,"td"),l(4),s()()),r&2){let n=t.$implicit;c(4),w(n.sectionName)}}function rr(r,t){if(r&1&&(a(0,"li"),l(1),s()),r&2){let n=t.$implicit;c(),U(" Length: ",n.length,", Width: ",n.width," ")}}function or(r,t){if(r&1&&(a(0,"tr")(1,"th"),l(2,"Measurements"),s(),a(3,"td")(4,"ul"),g(5,rr,2,2,"li",70),s()()()),r&2){let n=t.$implicit;c(5),h("ngForOf",n.measurements)}}function sr(r,t){if(r&1&&(a(0,"li"),l(1),s()),r&2){let n=t.$implicit,e=d(3);c(),w(e.getContractorName(n))}}function ar(r,t){if(r&1&&(a(0,"tr")(1,"th"),l(2,"Contractors"),s(),a(3,"td")(4,"ul"),g(5,sr,2,1,"li",70),s()()()),r&2){let n=d(2);c(5),h("ngForOf",n.editingJob.contractors)}}function lr(r,t){if(r&1){let n=S();a(0,"div",71)(1,"div",72)(2,"span",73),f("click",function(){u(n);let i=d();return m(i.hideModal())}),l(3,"\xD7"),s(),a(4,"h4"),l(5,"Job Details"),s(),a(6,"table",74)(7,"tbody")(8,"tr")(9,"th"),l(10,"Job Title"),s(),a(11,"td"),l(12),s()(),a(13,"tr")(14,"th"),l(15,"Customer"),s(),a(16,"td"),l(17),s()(),a(18,"tr")(19,"th"),l(20,"Service Type"),s(),a(21,"td"),l(22),s()(),a(23,"tr")(24,"th"),l(25,"Severity Level"),s(),a(26,"td"),l(27),s()(),a(28,"tr")(29,"th"),l(30,"Total Square Footage"),s(),a(31,"td"),l(32),s()(),a(33,"tr")(34,"th"),l(35,"Total Price"),s(),a(36,"td"),l(37),s()(),a(38,"tr")(39,"th"),l(40,"Number of Contractors"),s(),a(41,"td"),l(42),s()(),g(43,ir,5,1,"tr",70)(44,nr,5,1,"tr",70)(45,or,6,1,"tr",70)(46,ar,6,1,"tr",68),s()(),a(47,"button",75),f("click",function(){u(n);let i=d();return m(i.openEditModal(i.editingJob))}),l(48,"Edit"),s(),a(49,"button",76),f("click",function(){u(n);let i=d();return m(i.deleteJob(i.editingJob._id))}),l(50,"Delete"),s()()()}if(r&2){let n=d();c(12),w(n.editingJob.jobTitle),c(5),w(n.getClientName(n.editingJob.customer)),c(5),w(n.editingJob.serviceType.servicename),c(5),w(n.editingJob.severityLevel),c(5),w(n.editingJob.totalSquareFootage),c(5),w(n.editingJob.totalprice),c(5),w(n.editingJob.numberofcontractors),c(),h("ngForOf",n.editingJob.datesOfService),c(),h("ngForOf",n.editingJob.sections),c(),h("ngForOf",n.editingJob.sections),c(),h("ngIf",n.editingJob.contractors&&n.editingJob.contractors.length>0)}}function cr(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n._id),c(),w(n.clientname)}}function dr(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n._id),c(),w(n.servicename)}}function ur(r,t){if(r&1&&(a(0,"option",27),l(1),s()),r&2){let n=t.$implicit;h("value",n.level),c(),w(n.level)}}function mr(r,t){if(r&1){let n=S();a(0,"div",12)(1,"label",28),l(2,"Severity Level:"),s(),a(3,"select",29),y("ngModelChange",function(i){u(n);let o=d(2);return C(o.editingJob.severityLevel,i)||(o.editingJob.severityLevel=i),m(i)}),f("change",function(){u(n);let i=d(2);return m(i.updateTotalPrice(!0))}),g(4,ur,2,2,"option",17),s()()}if(r&2){let n=d(2);c(3),b("ngModel",n.editingJob.severityLevel),c(),h("ngForOf",n.severityLevels)}}function pr(r,t){if(r&1){let n=S();a(0,"div",30)(1,"h5"),l(2),s(),a(3,"div",12)(4,"label",31),l(5,"Date:"),s(),a(6,"input",32),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.date,i)||(o.date=i),m(i)}),s()(),a(7,"div",12)(8,"label",33),l(9,"Start Time:"),s(),a(10,"input",34),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.startTime,i)||(o.startTime=i),m(i)}),f("change",function(){let i=u(n).$implicit,o=d(2);return m(o.calculateTotalTime(i))}),s()(),a(11,"div",12)(12,"label",35),l(13,"End Time:"),s(),a(14,"input",34),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.endTime,i)||(o.endTime=i),m(i)}),f("change",function(){let i=u(n).$implicit,o=d(2);return m(o.calculateTotalTime(i))}),s()(),a(15,"div",12)(16,"label",36),l(17,"Total Time:"),s(),a(18,"input",37),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.totalTime,i)||(o.totalTime=i),m(i)}),s()(),a(19,"button",38),f("click",function(){let i=u(n).index,o=d(2);return m(o.removeDateOfService(i,!0))}),l(20,"Remove Date of Service"),s()()}if(r&2){let n=t.$implicit,e=t.index;c(2),x("Date of Service ",e+1,""),c(4),E("name","date",e,""),b("ngModel",n.date),c(4),E("name","startTime",e,""),b("ngModel",n.startTime),c(4),E("name","endTime",e,""),b("ngModel",n.endTime),c(4),E("name","totalTime",e,""),b("ngModel",n.totalTime)}}function hr(r,t){if(r&1){let n=S();a(0,"div",44)(1,"h6"),l(2),s(),a(3,"div",45)(4,"div",46)(5,"label",47),l(6,"Length:"),s(),a(7,"input",48),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.length,i)||(o.length=i),m(i)}),f("input",function(){u(n);let i=d(3);return m(i.updateTotalSquareFootage(!0))}),s()(),a(8,"div",46)(9,"label",49),l(10,"Width:"),s(),a(11,"input",48),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.width,i)||(o.width=i),m(i)}),f("input",function(){u(n);let i=d(3);return m(i.updateTotalSquareFootage(!0))}),s()(),a(12,"div",50)(13,"button",51),f("click",function(){let i=u(n).index,o=d().index,p=d(2);return m(p.removeMeasurement(o,i,!0))}),l(14,"Remove"),s()()()()}if(r&2){let n=t.$implicit,e=t.index,i=d().index;c(2),x("Measurement ",e+1,""),c(5),se("name","length",i,"",e,""),b("ngModel",n.length),c(4),se("name","width",i,"",e,""),b("ngModel",n.width)}}function fr(r,t){if(r&1){let n=S();a(0,"div",39)(1,"h5"),l(2),s(),a(3,"div",12)(4,"label",40),l(5,"Section Name:"),s(),a(6,"input",41),y("ngModelChange",function(i){let o=u(n).$implicit;return C(o.sectionName,i)||(o.sectionName=i),m(i)}),s()(),g(7,hr,15,9,"div",42),a(8,"button",43),f("click",function(){let i=u(n).index,o=d(2);return m(o.addMeasurement(i,!0))}),l(9,"Add Measurement"),s(),a(10,"button",38),f("click",function(){let i=u(n).index,o=d(2);return m(o.removeSection(i,!0))}),l(11,"Remove Section"),s()()}if(r&2){let n=t.$implicit,e=t.index;c(2),x("Section ",e+1,""),c(4),E("name","sectionName",e,""),b("ngModel",n.sectionName),c(),h("ngForOf",n.measurements)}}function gr(r,t){if(r&1){let n=S();a(0,"div",71)(1,"div",72)(2,"span",73),f("click",function(){u(n);let i=d();return m(i.hideModal())}),l(3,"\xD7"),s(),a(4,"h4"),l(5,"Edit Job"),s(),a(6,"form",77),f("ngSubmit",function(){u(n);let i=d();return m(i.updateJob())}),a(7,"div",12)(8,"label",13),l(9,"Job Title:"),s(),a(10,"input",14),y("ngModelChange",function(i){u(n);let o=d();return C(o.editingJob.jobTitle,i)||(o.editingJob.jobTitle=i),m(i)}),s()(),a(11,"div",12)(12,"label",15),l(13,"Customer:"),s(),a(14,"select",16),y("ngModelChange",function(i){u(n);let o=d();return C(o.editingJob.customer,i)||(o.editingJob.customer=i),m(i)}),g(15,cr,2,2,"option",17),s()(),a(16,"div",12)(17,"label",18),l(18,"Service Type:"),s(),a(19,"select",19),y("ngModelChange",function(i){u(n);let o=d();return C(o.editingJob.serviceType._id,i)||(o.editingJob.serviceType._id=i),m(i)}),f("change",function(){u(n);let i=d();return m(i.updateSeverityLevels(!0))}),g(20,dr,2,2,"option",17),s()(),g(21,mr,5,2,"div",20),a(22,"div",12)(23,"label",21),l(24,"Number of Contractors:"),s(),a(25,"input",22),y("ngModelChange",function(i){u(n);let o=d();return C(o.editingJob.numberofcontractors,i)||(o.editingJob.numberofcontractors=i),m(i)}),s()(),g(26,pr,21,13,"div",23),a(27,"button",24),f("click",function(){u(n);let i=d();return m(i.addDateOfService(!0))}),l(28,"Add Date of Service"),s(),g(29,fr,12,5,"div",25),a(30,"button",24),f("click",function(){u(n);let i=d();return m(i.addSection(!0))}),l(31,"Add Section"),s(),a(32,"button",26),l(33,"Update Job"),s()()()()}if(r&2){let n=d();c(10),b("ngModel",n.editingJob.jobTitle),c(4),b("ngModel",n.editingJob.customer),c(),h("ngForOf",n.clients),c(4),b("ngModel",n.editingJob.serviceType._id),c(),h("ngForOf",n.services),c(),h("ngIf",n.severityLevels.length>0),c(4),b("ngModel",n.editingJob.numberofcontractors),c(),h("ngForOf",n.editingJob.datesOfService),c(3),h("ngForOf",n.editingJob.sections)}}var Ri=(()=>{let t=class t{constructor(e,i,o,p,v){this.jobService=e,this.clientService=i,this.serviceService=o,this.notificationService=p,this.authService=v,this.jobs=[],this.clients=[],this.services=[],this.severityLevels=[],this.newJob={jobTitle:"",customer:"",totalSquareFootage:0,serviceType:{servicename:"",severities:[],_id:""},severityLevel:"",totalprice:0,sections:[],datesOfService:[{date:"",startTime:"",endTime:"",totalTime:""}],numberofcontractors:0,_id:""},this.recurrence="",this.recurrenceCount=1,this.editingJob=null,this.modalVisible=!1,this.showAddJob=!1,this.jobDetailsVisibility={},this.jobSectionsVisibility={},this.sectionVisibility={},this.isEditMode=!1,this.contractors=[],this.jobType=""}ngOnInit(){this.getJobs(),this.getClients(),this.getServices(),this.getContractors(),this.notificationService.clientUpdated$.subscribe(()=>this.getClients()),this.notificationService.serviceUpdated$.subscribe(()=>this.getServices()),this.jobService.jobAdded.subscribe(e=>{this.jobs.push(e),this.resetNewJob()})}getJobs(){this.jobService.getJobs().subscribe(e=>{this.jobs=e,this.jobs.forEach(i=>{this.jobDetailsVisibility[i._id]=!1,this.jobSectionsVisibility[i._id]=!1,this.sectionVisibility[i._id]=new Array(i.sections.length).fill(!1)})})}getClients(){this.clientService.getClients().subscribe(e=>this.clients=e)}getServices(){this.serviceService.getServices().subscribe(e=>this.services=e)}getContractors(){this.authService.getUsersByRole("contractor").subscribe(e=>this.contractors=e)}getClientName(e){let i=this.clients.find(o=>o._id===e);return i?i.clientname:"Unknown"}getContractorName(e){let i=this.contractors.find(o=>o._id===e);return i?i.email:"Unknown"}toggleAddJob(){this.showAddJob=!this.showAddJob,this.jobType=""}setJobType(e){this.jobType=e}openJobModal(e){this.editingJob=V({},e),this.isEditMode=!1,this.modalVisible=!0}openEditModal(e){this.editingJob=V({},e),this.updateSeverityLevels(!0),this.isEditMode=!0,this.modalVisible=!0}hideModal(){this.modalVisible=!1,this.editingJob=null}updateJob(){if(!this.editingJob)return;let e=this.services.find(o=>o._id===this.editingJob.serviceType._id),i=e?.severities.find(o=>o.level===this.editingJob.severityLevel);e&&i&&(this.editingJob.serviceType=e,this.editingJob.totalprice=i.rate*this.editingJob.totalSquareFootage),this.jobService.updateJob(this.editingJob._id,this.editingJob).subscribe(()=>{let o=this.jobs.findIndex(p=>p._id===this.editingJob._id);o!==-1&&(this.jobs[o]=this.editingJob),this.hideModal()})}deleteJob(e){this.jobService.deleteJob(e).subscribe(()=>{this.jobs=this.jobs.filter(i=>i._id!==e),delete this.jobDetailsVisibility[e],delete this.jobSectionsVisibility[e],delete this.sectionVisibility[e]})}updateSeverityLevels(e=!1){let i=e?this.editingJob:this.newJob,o=this.services.find(p=>p._id===i.serviceType._id);o?this.severityLevels=o.severities:this.severityLevels=[],this.updateTotalPrice(e)}getSeverityRate(e,i){let p=this.services.find(v=>v._id===e)?.severities.find(v=>v.level===i);return p?p.rate:0}addJob(){if(!this.newJob.jobTitle.trim()||!this.newJob.customer.trim()||!this.newJob.severityLevel.trim())return;let e=this.services.find(o=>o._id===this.newJob.serviceType._id),i=e?.severities.find(o=>o.level===this.newJob.severityLevel);e&&i&&(this.newJob.serviceType=e,this.newJob.totalprice=i.rate*this.newJob.totalSquareFootage),this.jobType==="recurring"?this.addRecurringJob():this.jobService.addJob(this.newJob).subscribe()}addRecurringJob(){let e=new Date(this.newJob.datesOfService[0].date),i=Math.min(this.recurrenceCount,50);for(let o=0;o<i;o++){let p=V({},this.newJob.datesOfService[0]);switch(this.recurrence){case"daily":p.date=this.addDays(e,o).toISOString().split("T")[0];break;case"weekly":p.date=this.addDays(e,o*7).toISOString().split("T")[0];break;case"monthly":p.date=this.addMonths(e,o).toISOString().split("T")[0];break}this.newJob.datesOfService.push(p)}this.newJob.datesOfService.shift(),this.jobService.addJob(this.newJob).subscribe(o=>{this.jobs.push(o),this.jobDetailsVisibility[o._id]=!1,this.jobSectionsVisibility[o._id]=!1,this.sectionVisibility[o._id]=new Array(o.sections.length).fill(!1),this.resetNewJob()})}addDays(e,i){let o=new Date(e);return o.setDate(o.getDate()+i),o}addMonths(e,i){let o=new Date(e);return o.setMonth(o.getMonth()+i),o}resetNewJob(){this.newJob={jobTitle:"",customer:"",totalSquareFootage:0,serviceType:{servicename:"",severities:[],_id:""},severityLevel:"",totalprice:0,sections:[],datesOfService:[{date:"",startTime:"",endTime:"",totalTime:""}],numberofcontractors:0,_id:""},this.recurrence="",this.recurrenceCount=1,this.severityLevels=[],this.jobType=""}addSection(e=!1){let i={jobId:"",sectionName:"",measurements:[],_id:""};e&&this.editingJob?(this.editingJob.sections.push(i),this.sectionVisibility[this.editingJob._id].push(!1)):this.newJob.sections.push(i)}removeSection(e,i=!1){i&&this.editingJob?(this.editingJob.sections.splice(e,1),this.sectionVisibility[this.editingJob._id].splice(e,1)):this.newJob.sections.splice(e,1),this.updateTotalSquareFootage(i)}addMeasurement(e,i=!1){let o={length:0,width:0};i&&this.editingJob?this.editingJob.sections[e].measurements.push(o):this.newJob.sections[e].measurements.push(o),this.updateTotalSquareFootage(i)}removeMeasurement(e,i,o=!1){o&&this.editingJob?this.editingJob.sections[e].measurements.splice(i,1):this.newJob.sections[e].measurements.splice(i,1),this.updateTotalSquareFootage(o)}updateTotalSquareFootage(e=!1){let i=0;(e?this.editingJob:this.newJob)?.sections.forEach(p=>{p.measurements.forEach(v=>{i+=v.length*v.width})}),e&&this.editingJob?this.editingJob.totalSquareFootage=i:this.newJob.totalSquareFootage=i,this.updateTotalPrice(e)}updateTotalPrice(e=!1){let i=e?this.editingJob:this.newJob,o=this.services.find(v=>v._id===i.serviceType._id),p=o?.severities.find(v=>v.level===i.severityLevel);o&&p&&(e&&this.editingJob?this.editingJob.totalprice=p.rate*this.editingJob.totalSquareFootage:this.newJob.totalprice=p.rate*this.newJob.totalSquareFootage)}addDateOfService(e=!1){let i={date:"",startTime:"",endTime:"",totalTime:""};e&&this.editingJob?this.editingJob.datesOfService.push(i):this.newJob.datesOfService.push(i)}removeDateOfService(e,i=!1){i&&this.editingJob?this.editingJob.datesOfService.splice(e,1):this.newJob.datesOfService.splice(e,1)}calculateTotalTime(e){if(e.startTime&&e.endTime){let i=new Date(`1970-01-01T${e.startTime}:00`),o=new Date(`1970-01-01T${e.endTime}:00`);if(i>=o)e.totalTime="Invalid time range";else{let p=(o.getTime()-i.getTime())/1e3/60,v=Math.floor(p/60),k=p%60;e.totalTime=`${v}h ${k}m`}}}getClosestServiceDate(e){if(!e.length)return null;let i=new Date().toISOString().split("T")[0],o=e.filter(p=>p.date>=i);return o.length?o[0]:e[0]}};t.\u0275fac=function(i){return new(i||t)(_(re),_(ne),_(Se),_(ye),_(B))},t.\u0275cmp=D({type:t,selectors:[["app-job"]],standalone:!0,features:[O],decls:9,vars:4,consts:[[1,"text-center","my-4"],[1,"btn","btn-primary","mb-3",3,"click"],["class","add-job-container mb-5 p-3 border rounded shadow-sm bg-light",4,"ngIf"],[1,"job-grid"],["class","job-card",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"add-job-container","mb-5","p-3","border","rounded","shadow-sm","bg-light"],[1,"mb-3"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","mt-3",3,"ngSubmit",4,"ngIf"],[1,"mt-3",3,"ngSubmit"],[1,"form-group","mb-3"],["for","jobTitle"],["type","text","name","jobTitle","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","customer"],["name","customer","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","serviceType"],["name","serviceType","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["class","form-group mb-3",4,"ngIf"],["for","numberofcontractors"],["type","number","name","numberofcontractors","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","date-service-container mb-4 p-3 border rounded bg-white",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","mb-3",3,"click"],["class","section-container mb-4 p-3 border rounded bg-white",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],[3,"value"],["for","severityLevel"],["name","severityLevel","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"date-service-container","mb-4","p-3","border","rounded","bg-white"],["for","date"],["type","date","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["for","startTime"],["type","time","required","",1,"form-control",3,"ngModelChange","change","ngModel","name"],["for","endTime"],["for","totalTime"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-danger","ms-2",3,"click"],[1,"section-container","mb-4","p-3","border","rounded","bg-white"],["for","sectionName"],["type","text","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["class","measurement-container mb-2 p-2 border rounded",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"measurement-container","mb-2","p-2","border","rounded"],[1,"row"],[1,"col"],["for","length"],["type","number","required","",1,"form-control",3,"ngModelChange","input","ngModel","name"],["for","width"],[1,"col-2","d-flex","align-items-end"],["type","button",1,"btn","btn-danger",3,"click"],["for","recurrence"],["name","recurrence","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","monthly"],["for","recurrenceCount"],["type","number","name","recurrenceCount","required","","min","1","max","50",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date0","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","time","name","startTime0","required","",1,"form-control",3,"ngModelChange","change","ngModel"],["type","time","name","endTime0","required","",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text","name","totalTime0","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"job-card"],[1,"card","shadow-lg","border-0"],[1,"card-body"],[1,"card-title","text-primary"],[1,"card-text","d-flex","flex-wrap"],[4,"ngIf"],[1,"btn","btn-outline-secondary","btn-sm","mt-2",3,"click"],[4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"table","table-sm"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm","ms-2",3,"click"],[3,"ngSubmit"]],template:function(i,o){i&1&&(a(0,"h2",0),l(1,"Jobs Dashboard"),s(),a(2,"button",1),f("click",function(){return o.toggleAddJob()}),l(3,"Toggle Add Job"),s(),g(4,Zn,9,2,"div",2),a(5,"div",3),g(6,tr,32,7,"div",4),s(),g(7,lr,51,11,"div",5)(8,gr,34,9,"div",5)),i&2&&(c(4),h("ngIf",o.showAddJob),c(2),h("ngForOf",o.jobs),c(),h("ngIf",o.modalVisible&&o.editingJob&&!o.isEditMode),c(),h("ngIf",o.isEditMode&&o.modalVisible&&o.editingJob))},dependencies:[F,R,P,ie,te,Ze,Xe,W,Pe,Ce,K,ee,H,wt,St,de,ce,ji],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{margin-top:5px}.btn[_ngcontent-%COMP%]{margin-top:10px}.add-job-container[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;background-color:#f9f9f9}.date-service-container[_ngcontent-%COMP%], .section-container[_ngcontent-%COMP%], .measurement-container[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;background-color:#fff}.list-group-item[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;border:none;border-radius:8px;background-color:#fff;transition:transform .3s,box-shadow .3s;box-shadow:0 4px 8px #0000001a}.card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0000001a}.card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.25rem}.card-text[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.5;margin-bottom:20px}.btn-sm[_ngcontent-%COMP%]{font-size:.8rem}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:15% auto;padding:20px;border:1px solid #ccc;width:80%;max-width:500px;text-align:left;border-radius:8px;box-shadow:0 4px 8px #0000001a}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.job-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.job-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;margin:0 10px;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}"]});let r=t;return r})();function _r(r,t){if(r&1&&(a(0,"div",7),l(1),s()),r&2){let n=t.$implicit;c(),w(n)}}function vr(r,t){if(r&1){let n=S();a(0,"div",2),f("click",function(){let i=u(n).$implicit,o=d(3);return m(o.showModal(i))}),l(1),s()}if(r&2){let n=t.$implicit,e=d(3);Rt(e.getEventClass(n)),c(),U(" ",n.jobTitle," (",e.getClientName(n.customer),") ")}}function br(r,t){if(r&1&&(a(0,"div",10)(1,"div",11),l(2),s(),a(3,"div",12),g(4,vr,2,4,"div",13),s()()),r&2){let n=d().$implicit,e=d();c(2),w(n),c(2),h("ngForOf",e.getJobs(n))}}function Cr(r,t){if(r&1&&(a(0,"div",8),g(1,br,5,2,"div",9),s()),r&2){let n=t.$implicit;Ve("empty",!n),c(),h("ngIf",n)}}function yr(r,t){if(r&1&&(a(0,"div"),l(1),M(2,"br"),l(3),M(4,"br"),l(5),M(6,"br"),l(7),M(8,"br"),s()),r&2){let n=t.$implicit;c(),x(" Date of Service: ",n.date,""),c(2),x(" Start Time: ",n.startTime,""),c(2),x(" End Time: ",n.endTime,""),c(2),x(" Total Time: ",n.totalTime,"")}}function xr(r,t){if(r&1){let n=S();a(0,"div",14)(1,"div",15)(2,"span",16),f("click",function(){u(n);let i=d();return m(i.hideModal())}),l(3,"\xD7"),s(),a(4,"strong"),l(5),s(),M(6,"br"),l(7),M(8,"br"),l(9),M(10,"br"),l(11),M(12,"br"),g(13,yr,9,4,"div",17),s()()}if(r&2){let n=d();c(5),w(n.modalJob==null?null:n.modalJob.jobTitle),c(2),x(" Customer: ",n.modalJob!=null&&n.modalJob.customer?n.getClientName(n.modalJob==null?null:n.modalJob.customer):"Unknown",""),c(2),x(" Service Type: ",n.modalJob==null||n.modalJob.serviceType==null?null:n.modalJob.serviceType.servicename,""),c(2),x(" Severity Level: ",n.modalJob==null?null:n.modalJob.severityLevel,""),c(2),h("ngForOf",n.modalJob==null?null:n.modalJob.datesOfService)}}var Li=(()=>{let t=class t{constructor(e,i,o){this.clientService=e,this.authService=i,this.jobService=o,this.jobs=[],this.calendarDates=[],this.weekDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.modalVisible=!1,this.modalJob=null,this.clients=[],this.userRole=null,this.userServices=[];let p=new Date;this.currentYear=p.getFullYear(),this.currentMonth=p.getMonth(),this.authService.loginStatus$.subscribe(()=>{this.loadUser(),this.filterJobs(),this.generateCalendar()})}ngOnInit(){this.generateCalendar(),this.loadClients(),this.loadUser(),this.filterJobs(),this.jobService.jobAdded.subscribe(e=>{this.jobs.push(e),this.filterJobs(),this.generateCalendar()})}get currentMonthName(){return new Date(this.currentYear,this.currentMonth).toLocaleString("default",{month:"long"})}generateCalendar(){let e=new Date(this.currentYear,this.currentMonth,1).getDay(),i=new Date(this.currentYear,this.currentMonth+1,0).getDate();for(this.calendarDates=new Array(e).fill(null).concat(Array.from({length:i},(o,p)=>p+1));this.calendarDates.length%7!==0;)this.calendarDates.push(null)}previousMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--,this.generateCalendar()}nextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++,this.generateCalendar()}getJobs(e){if(!e)return[];let i=`${this.currentYear}-${("0"+(this.currentMonth+1)).slice(-2)}-${("0"+e).slice(-2)}`;return this.jobs.filter(o=>o.datesOfService&&o.datesOfService.some(p=>p.date===i)&&(this.userRole==="manager"||this.userRole==="contractor"&&this.userServices.includes(o.serviceType._id)))}showModal(e){this.modalJob=e,this.modalVisible=!0}hideModal(){this.modalVisible=!1,this.modalJob=null}loadClients(){this.clientService.getClients().subscribe(e=>{this.clients=e})}getClientName(e){if(!e)return"Unknown";let i=this.clients.find(o=>o._id===e);return i?i.clientname:"Unknown"}loadUser(){if(typeof window<"u"){let e=localStorage.getItem("currentUser");if(e){let i=JSON.parse(e);this.userRole=i.role,this.userServices=i.services||[]}}}filterJobs(){}getEventClass(e){return this.userRole==="contractor"?this.canClaimJob(e)?"event contractor-can-claim":"event contractor-cannot-claim":"event manager"}canClaimJob(e){if(!this.userRole||this.userRole!=="contractor")return!1;let i=this.getCurrentUserId(),o=e.contractors?.includes(i)??!1,p=(e.contractors?.length??0)>=e.numberofcontractors;return!o&&!p}getCurrentUserId(){let e=localStorage.getItem("currentUser");return e?JSON.parse(e)._id:""}};t.\u0275fac=function(i){return new(i||t)(_(ne),_(B),_(re))},t.\u0275cmp=D({type:t,selectors:[["app-calendar"]],inputs:{jobs:"jobs"},standalone:!0,features:[O],decls:12,vars:5,consts:[[1,"calendar-container"],[1,"calendar-header"],[3,"click"],[1,"calendar-body"],["class","calendar-weekday",4,"ngFor","ngForOf"],["class","calendar-date",3,"empty",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"calendar-weekday"],[1,"calendar-date"],["class","date-wrapper",4,"ngIf"],[1,"date-wrapper"],[1,"date-number"],[1,"events"],[3,"class","click",4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return o.previousMonth()}),l(3,"\u2039"),s(),a(4,"div"),l(5),s(),a(6,"button",2),f("click",function(){return o.nextMonth()}),l(7,"\u203A"),s()(),a(8,"div",3),g(9,_r,2,1,"div",4)(10,Cr,2,3,"div",5),s(),g(11,xr,14,5,"div",6),s()),i&2&&(c(5),U("",o.currentMonthName," ",o.currentYear,""),c(4),h("ngForOf",o.weekDays),c(),h("ngForOf",o.calendarDates),c(),h("ngIf",o.modalVisible))},dependencies:[F,R,P],styles:[".calendar-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:auto;font-family:Arial,sans-serif;background:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;overflow:hidden}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#007bff;color:#fff;padding:15px}.calendar-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5em;cursor:pointer;color:#fff;transition:color .3s}.calendar-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#ccc}.calendar-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);border-top:1px solid #ddd}.calendar-weekday[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:15px;border-right:1px solid #ddd;text-align:center;font-weight:700}.calendar-date[_ngcontent-%COMP%]{border-bottom:1px solid #eee;border-right:1px solid #eee;min-height:100px;padding:10px;box-sizing:border-box;position:relative;transition:background-color .3s}.calendar-date.empty[_ngcontent-%COMP%]{background-color:#fafafa}.calendar-date[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.date-number[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.events[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.event[_ngcontent-%COMP%]{padding:5px;margin-bottom:5px;border-radius:5px;font-size:.8em;text-align:left;position:relative;cursor:pointer;transition:background-color .3s,color .3s}.event.manager[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.event.contractor-can-claim[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.event.contractor-cannot-claim[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.event[_ngcontent-%COMP%]:hover{opacity:.9}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:15% auto;padding:20px;border:1px solid #ccc;width:80%;max-width:600px;border-radius:10px;box-shadow:0 4px 8px #0000001a}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]});let r=t;return r})();function Sr(r,t){if(r&1&&(a(0,"li")(1,"strong"),l(2,"Date of Service:"),s(),l(3),s()),r&2){let n=t.$implicit;c(3),st(" ",n.date,": ",n.startTime," - ",n.endTime," (",n.totalTime,") ")}}function wr(r,t){if(r&1&&(a(0,"li"),l(1),s()),r&2){let n=t.$implicit;c(),U(" Length: ",n.length,", Width: ",n.width," ")}}function Mr(r,t){if(r&1&&(a(0,"li")(1,"strong"),l(2,"Section:"),s(),l(3),a(4,"ul"),g(5,wr,2,2,"li",1),s()()),r&2){let n=t.$implicit;c(3),x(" ",n.sectionName," "),c(2),h("ngForOf",n.measurements)}}function Vr(r,t){if(r&1){let n=S();a(0,"button",3),f("click",function(){u(n);let i=d().$implicit,o=d();return m(o.claimJob(i))}),l(1,"Claim"),s()}}function Er(r,t){if(r&1&&(a(0,"li")(1,"strong"),l(2),s(),l(3),a(4,"ul")(5,"li")(6,"strong"),l(7,"Service Type:"),s(),l(8),s(),a(9,"li")(10,"strong"),l(11,"Severity Level:"),s(),l(12),s(),a(13,"li")(14,"strong"),l(15,"Total Square Footage:"),s(),l(16),s(),g(17,Sr,4,4,"li",1)(18,Mr,6,2,"li",1),s(),g(19,Vr,2,0,"button",2),s()),r&2){let n=t.$implicit,e=d();c(2),w(n.jobTitle),c(),x(" - ",e.getClientName(n.customer)," "),c(5),x(" ",n.serviceType.servicename,""),c(4),x(" ",n.severityLevel,""),c(4),x(" ",n.totalSquareFootage,""),c(),h("ngForOf",n.datesOfService),c(),h("ngForOf",n.sections),c(),h("ngIf",e.canClaimJob(n))}}function Tr(r,t){if(r&1&&(a(0,"li")(1,"strong"),l(2,"Date of Service:"),s(),l(3),s()),r&2){let n=t.$implicit;c(3),st(" ",n.date,": ",n.startTime," - ",n.endTime," (",n.totalTime,") ")}}function Dr(r,t){if(r&1&&(a(0,"li"),l(1),s()),r&2){let n=t.$implicit;c(),U(" Length: ",n.length,", Width: ",n.width," ")}}function Or(r,t){if(r&1&&(a(0,"li")(1,"strong"),l(2,"Section:"),s(),l(3),a(4,"ul"),g(5,Dr,2,2,"li",1),s()()),r&2){let n=t.$implicit;c(3),x(" ",n.sectionName," "),c(2),h("ngForOf",n.measurements)}}function Fr(r,t){if(r&1&&(a(0,"li")(1,"strong"),l(2),s(),l(3),a(4,"ul")(5,"li")(6,"strong"),l(7,"Service Type:"),s(),l(8),s(),a(9,"li")(10,"strong"),l(11,"Severity Level:"),s(),l(12),s(),a(13,"li")(14,"strong"),l(15,"Total Square Footage:"),s(),l(16),s(),g(17,Tr,4,4,"li",1)(18,Or,6,2,"li",1),s(),a(19,"span",4),l(20,"You have claimed this job"),s()()),r&2){let n=t.$implicit,e=d();c(2),w(n.jobTitle),c(),x(" - ",e.getClientName(n.customer)," "),c(5),x(" ",n.serviceType.servicename,""),c(4),x(" ",n.severityLevel,""),c(4),x(" ",n.totalSquareFootage,""),c(),h("ngForOf",n.datesOfService),c(),h("ngForOf",n.sections)}}var Ui=(()=>{let t=class t{constructor(e,i,o){this.clientService=e,this.authService=i,this.jobService=o,this.jobs=[],this.clients=[],this.currentUserId=null,this.availableJobs=[],this.claimedJobs=[]}ngOnInit(){this.loadClients(),this.loadCurrentUser(),this.categorizeJobs(),this.authService.loginStatus$.subscribe(()=>{this.loadCurrentUser(),this.categorizeJobs()}),this.jobService.jobAdded.subscribe(()=>{this.categorizeJobs()})}ngOnChanges(e){e.jobs&&this.categorizeJobs()}loadClients(){this.clientService.getClients().subscribe(e=>{this.clients=e})}getClientName(e){if(!e)return"Unknown";let i=this.clients.find(o=>o._id===e);return i?i.clientname:"Unknown"}loadCurrentUser(){let e=localStorage.getItem("currentUser");if(e){let i=JSON.parse(e);this.currentUserId=i._id}}categorizeJobs(){this.availableJobs=this.jobs.filter(e=>this.canClaimJob(e)),this.claimedJobs=this.jobs.filter(e=>this.isClaimedByUser(e))}canClaimJob(e){if(!this.currentUserId)return!1;let i=e.contractors?.includes(this.currentUserId)??!1,o=(e.contractors?.length??0)>=e.numberofcontractors;return!i&&!o}isClaimedByUser(e){return this.currentUserId?e.contractors?.includes(this.currentUserId)??!1:!1}claimJob(e){this.currentUserId&&this.canClaimJob(e)&&(e.contractors=e.contractors||[],e.contractors.push(this.currentUserId),this.jobService.updateJob(e._id,e).subscribe(()=>{this.categorizeJobs(),console.log("Job claimed successfully")}))}};t.\u0275fac=function(i){return new(i||t)(_(ne),_(B),_(re))},t.\u0275cmp=D({type:t,selectors:[["app-contractor-jobs"]],inputs:{jobs:"jobs"},standalone:!0,features:[Q,O],decls:9,vars:2,consts:[[1,"contractor-jobs-container"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[1,"claimed-status"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h2"),l(2,"Available Jobs"),s(),a(3,"ul"),g(4,Er,20,8,"li",1),s(),a(5,"h2"),l(6,"Your Claimed Jobs"),s(),a(7,"ul"),g(8,Fr,21,7,"li",1),s()()),i&2&&(c(4),h("ngForOf",o.availableJobs),c(4),h("ngForOf",o.claimedJobs))},dependencies:[F,R,P],styles:[".contractor-jobs-container[_ngcontent-%COMP%]{padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{margin:10px 0}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer;border-radius:4px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.claimed-status[_ngcontent-%COMP%]{color:green;font-weight:700}"]});let r=t;return r})();function Ir(r,t){if(r&1){let n=S();a(0,"div",3)(1,"button",4),f("click",function(){u(n);let i=d();return m(i.toggleComponent("client"))}),l(2,"Toggle Client"),s(),a(3,"button",4),f("click",function(){u(n);let i=d();return m(i.toggleComponent("service"))}),l(4,"Toggle Service"),s(),a(5,"button",4),f("click",function(){u(n);let i=d();return m(i.toggleComponent("job"))}),l(6,"Toggle Job"),s(),a(7,"button",4),f("click",function(){u(n);let i=d();return m(i.toggleCalendar())}),l(8,"Toggle Calendar"),s()()}}function Ar(r,t){if(r&1&&M(0,"app-calendar",5),r&2){let n=d();h("jobs",n.jobs)}}function Jr(r,t){if(r&1&&M(0,"app-contractor-jobs",5),r&2){let n=d();h("jobs",n.jobs)}}function Pr(r,t){r&1&&M(0,"app-client")}function kr(r,t){r&1&&M(0,"app-service")}function Nr(r,t){r&1&&M(0,"app-job")}var Wi=(()=>{let t=class t{constructor(e,i){this.jobService=e,this.authService=i,this.jobs=[],this.showClient=!1,this.showService=!1,this.showJob=!1,this.showCalendar=!0,this.userRole=null,this.authService.loginStatus$.subscribe(()=>{this.updateUserState()})}ngOnInit(){this.updateUserState()}getJobs(){this.jobService.getJobs().subscribe(e=>this.jobs=e)}toggleComponent(e){this.showClient=e==="client"?!this.showClient:!1,this.showService=e==="service"?!this.showService:!1,this.showJob=e==="job"?!this.showJob:!1}toggleCalendar(){this.showCalendar=!this.showCalendar}updateUserState(){this.getJobs(),this.userRole=this.authService.getUserRole()}};t.\u0275fac=function(i){return new(i||t)(_(re),_(B))},t.\u0275cmp=D({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[O],decls:6,vars:6,consts:[["class","button-group",4,"ngIf"],[3,"jobs",4,"ngIf"],[4,"ngIf"],[1,"button-group"],[3,"click"],[3,"jobs"]],template:function(i,o){i&1&&g(0,Ir,9,0,"div",0)(1,Ar,1,1,"app-calendar",1)(2,Jr,1,1,"app-contractor-jobs",1)(3,Pr,1,0,"app-client",2)(4,kr,1,0,"app-service",2)(5,Nr,1,0,"app-job",2),i&2&&(h("ngIf",o.userRole==="manager"),c(),h("ngIf",o.showCalendar),c(),h("ngIf",o.userRole==="contractor"),c(),h("ngIf",o.userRole==="manager"&&o.showClient),c(),h("ngIf",o.userRole==="manager"&&o.showService),c(),h("ngIf",o.userRole==="manager"&&o.showJob))},dependencies:[F,P,ki,Ni,Ri,Li,Ui],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.button-group[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;margin-top:20px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;margin:0 10px;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]});let r=t;return r})();function jr(r,t){if(r&1&&(a(0,"p",22),l(1),s()),r&2){let n=d();c(),w(n.loginError)}}function Rr(r,t){if(r&1){let n=S();a(0,"div")(1,"input",25),f("change",function(i){u(n);let o=d(2);return m(o.onServiceChange(i))}),s(),l(2),s()}if(r&2){let n=t.$implicit;c(),h("value",n._id),c(),x(" ",n.servicename," ")}}function Lr(r,t){if(r&1&&(a(0,"div",4)(1,"label",23),l(2,"Select Services:"),s(),g(3,Rr,3,2,"div",24),s()),r&2){let n=d();c(3),h("ngForOf",n.services)}}function Ur(r,t){if(r&1&&(a(0,"p",22),l(1),s()),r&2){let n=d();c(),w(n.signupError)}}var Bi=(()=>{let t=class t{constructor(e,i,o,p){this.fb=e,this.authService=i,this.router=o,this.serviceService=p,this.loginError=null,this.signupError=null,this.services=[],this.selectedServices=[],this.isContractor=!1,this.loginForm=this.fb.group({email:[""],password:[""]}),this.signupForm=this.fb.group({newEmail:[""],newPassword:[""],role:[""]})}ngOnInit(){this.getServices()}getServices(){this.serviceService.getServices().subscribe(e=>this.services=e)}onLogin(){if(this.loginForm.valid){let{email:e,password:i}=this.loginForm.value;this.authService.login(e,i).subscribe(o=>{if(o){localStorage.setItem("currentUser",JSON.stringify(o));let p=o.role;(p==="contractor"||p==="manager")&&(this.authService.notifyLoginStatusChange(),this.router.navigate(["/dashboard"]))}},o=>{this.loginError="Invalid email or password"})}}onSignup(){if(this.signupForm.valid){let{newEmail:e,newPassword:i,role:o}=this.signupForm.value,p={email:e,password:i,role:o,services:this.selectedServices};this.authService.signup(p).subscribe(v=>{v&&(localStorage.setItem("currentUser",JSON.stringify(v)),this.authService.notifyLoginStatusChange(),this.router.navigate(["/dashboard"]))},v=>{this.signupError="Failed to create a new account"})}}onRoleChange(){this.isContractor=this.signupForm.get("role")?.value==="contractor"}onServiceChange(e){let i=e.target.value;e.target.checked?this.selectedServices.push(i):this.selectedServices=this.selectedServices.filter(o=>o!==i)}};t.\u0275fac=function(i){return new(i||t)(_(Ji),_(B),_(ei),_(Se))},t.\u0275cmp=D({type:t,selectors:[["app-landingpage"]],standalone:!0,features:[O],decls:45,vars:7,consts:[[1,"landing-page-container"],[1,"form-wrapper"],[1,"form-section","login-form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","formControlName","email","type","email","required","",1,"form-control"],["for","password"],["id","password","formControlName","password","type","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","error-message",4,"ngIf"],[1,"form-section","signup-form-container"],["for","newEmail"],["id","newEmail","formControlName","newEmail","type","email","required","",1,"form-control"],["for","newPassword"],["id","newPassword","formControlName","newPassword","type","password","required","",1,"form-control"],["for","role"],["id","role","formControlName","role","required","",1,"form-select",3,"change"],["value","contractor"],["value","manager"],["class","form-group",4,"ngIf"],["type","submit",1,"btn","btn-secondary",3,"disabled"],[1,"error-message"],["for","services"],[4,"ngFor","ngForOf"],["type","checkbox",3,"change","value"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h1"),l(2,"Boettcher Service and Supply"),s(),a(3,"h2"),l(4,"Contractor Job Portal"),s(),a(5,"div",1)(6,"div",2)(7,"h2"),l(8,"Login"),s(),a(9,"form",3),f("ngSubmit",function(){return o.onLogin()}),a(10,"div",4)(11,"label",5),l(12,"Email:"),s(),M(13,"input",6),s(),a(14,"div",4)(15,"label",7),l(16,"Password:"),s(),M(17,"input",8),s(),a(18,"button",9),l(19,"Login"),s()(),g(20,jr,2,1,"p",10),s(),a(21,"div",11)(22,"h2"),l(23,"Sign Up"),s(),a(24,"form",3),f("ngSubmit",function(){return o.onSignup()}),a(25,"div",4)(26,"label",12),l(27,"Email:"),s(),M(28,"input",13),s(),a(29,"div",4)(30,"label",14),l(31,"Password:"),s(),M(32,"input",15),s(),a(33,"div",4)(34,"label",16),l(35,"Role:"),s(),a(36,"select",17),f("change",function(){return o.onRoleChange()}),a(37,"option",18),l(38,"Contractor"),s(),a(39,"option",19),l(40,"Manager"),s()()(),g(41,Lr,4,1,"div",20),a(42,"button",21),l(43,"Sign Up"),s()(),g(44,Ur,2,1,"p",10),s()()()),i&2&&(c(9),h("formGroup",o.loginForm),c(9),h("disabled",o.loginForm.invalid),c(2),h("ngIf",o.loginError),c(4),h("formGroup",o.signupForm),c(17),h("ngIf",o.isContractor),c(),h("disabled",o.signupForm.invalid),c(2),h("ngIf",o.signupError))},dependencies:[ie,te,Ze,Xe,W,Ce,K,ee,H,Pi,Ct,yt,F,R,P],styles:[".landing-page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#f0f2f5;padding:20px;box-sizing:border-box}.form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;max-width:800px;background:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;padding:20px}.form-section[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}h1[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}h2[_ngcontent-%COMP%]{margin-bottom:15px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#555}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px}.btn[_ngcontent-%COMP%]{display:inline-block;width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.error-message[_ngcontent-%COMP%]{color:red}"]});let r=t;return r})();var Gi=[{path:"",component:Bi},{path:"dashboard",component:Wi}];var Wr="@",Br=(()=>{let t=class t{constructor(e,i,o,p,v){this.doc=e,this.delegate=i,this.zone=o,this.animationType=p,this.moduleImpl=v,this._rendererFactoryPromise=null,this.scheduler=nt(Pt,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-XFLLQZRT.mjs").then(i=>i)).catch(i=>{throw new ue(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let p=new o(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let p=new Tt(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(v=>{let k=v.createRenderer(e,i);p.use(k),this.scheduler?.notify(9)}).catch(v=>{p.use(o)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(i){Jt()},t.\u0275prov=J({token:t,factory:t.\u0275fac});let r=t;return r})(),Tt=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,e,i){this.delegate.insertBefore(t,n,e,i)}removeChild(t,n,e){this.delegate.removeChild(t,n,e)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,e,i){this.delegate.setAttribute(t,n,e,i)}removeAttribute(t,n,e){this.delegate.removeAttribute(t,n,e)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,e,i){this.delegate.setStyle(t,n,e,i)}removeStyle(t,n,e){this.delegate.removeStyle(t,n,e)}setProperty(t,n,e){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(t,n,e)),this.delegate.setProperty(t,n,e)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,e){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(t,n,e)),this.delegate.listen(t,n,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(Wr)}};function qi(r="animations"){return Nt("NgAsyncAnimations"),It([{provide:kt,useFactory:(t,n,e)=>new Br(t,n,e,r),deps:[qt,Qt,jt]},{provide:At,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Hi={providers:[Bt({eventCoalescing:!0}),ti(Gi),Zt(),$t(zt()),qi()]};var Gr={providers:[Xt()]},$i=Gt(Hi,Gr);var qr=()=>Yt(ii,$i),Os=qr;export{Os as a};
